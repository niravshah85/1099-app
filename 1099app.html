<!DOCTYPE html> 
<html> 
<head> 
	<title>1099 Contractor App</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1;"/> 
	<link rel="stylesheet" href="themes/1099app.min.css" />
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0.1/jquery.mobile.structure-1.0.1.min.css" />
	<script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.js"></script>
	<script src="jquery.mustache.js" type="text/javascript" charset="utf-8"></script>
	<script>
	$(document).ready(function() {
		var $page = $("#profile");
		var $stateItem = $page.find("#statechoice");
		
		$("#savemoney").click(function() {
			//alert ("Income is " + $("#income").val());
			localStorage.income = $("#income").val();
			//alert("Income saved: "+ localStorage.income);
			
		});	
		
		$("#filingstatus").bind( "change", function(event, ui) {
		  	//alert ("Filing status is " + $("#filingstatus").val());
			localStorage.filingStatus = $("#filingstatus").val();
			//alert("filingstatus saved: "+ localStorage.filingStatus);
		});
		
		$("#taxbracket").bind( "change", function(event, ui) {
		  	//alert ("taxbracket is " + $("#taxbracket").val());
			localStorage.taxbracket = $("#taxbracket").val();
			//alert("taxbracket saved: "+ localStorage.taxbracket);
		});
		
		$("#statechoice").bind( "change", function(event, ui) {
		  	//alert ("statechoice is " + $("#statechoice").val());
			localStorage.statechoice = $("#statechoice").val();
			//alert("statechoice saved: "+ localStorage.statechoice);
		});
		
	
	  	$.getJSON('state.json',function(stateData){
			alert("getJSON called");
			$.each(stateData, function(key, val) {
				$stateItem.append('<option value="' + val.abbr + '">' + val.state + '</option>');
				//console.log('<option value="' + val.abbr + '">' + val.state + '</option>');
			});
		});

		

	});
	</script>
	<!-- Mustache :-{)~ Template for detail views -->
    <script type="text/x-mustache-tmpl" id="detailtemplate">
		{{#categories}}
		<li>{{name}}
			<ul>
			    {{#items}}
				<li data-icon="plus">
					<a href="#dialog" data-rel="dialog">
						<img src="{{image}}" alt="{{title}}">
						<h2>{{title}}</h2>
						<p>{{description}}</p>
					</a>
				</li>
                {{/items}}
			</ul>
	    </li>
	    {{/categories}}
    </script>

</head> 
<body> 

<section data-role="page" id="profile" data-theme="a">
	<header data-role="header"><h1>Tax Profile</h1></header>

	<div data-role="content" style="text-align: center;">	
		<div class="ui-grid-a">
			<li data-role="fieldcontain">
				<div class="ui-block-a">
					<label for="select-choice-1" class="select">Filing status:</label>
				</div>
				<div class="ui-block-b">
					<select name="filingstatus" id="filingstatus">
						<option value="choose status">choose</option>
						<option value="single">Single</option>
						<option value="married">Married</option>
					</select>
				</div>
			</li>
		</div><!-- /grid-a -->
		<div class="ui-grid-a">
			<li data-role="fieldcontain">
				<div class="ui-block-a">
					<label for="taxbracket" class="select">Tax Bracket:</label>
				</div>
				<div class="ui-block-b">	
					<select name="taxbracket" id="taxbracket">
						<option value="choose bracket">choose</option>
						<option value="10">10%</option>
						<option value="15">15%</option>
						<option value="25">25%</option>
						<option value="28">28%</option>
						<option value="33">33%</option>
						<option value="35">35%</option>
					</select>
				</div>
			</li>
		</div>
		<div class="ui-grid-a">
			<li data-role="fieldcontain">
				<div class="ui-block-a">
					<label for="statechoice" class="select">State:</label>
				</div>
				<div class="ui-block-b">
					<select name="statechoice" id="statechoice">
						<option value="Choose">choose</option>
					</select>
				</div>
			</li>
		</div>
		<p><a href="#home" data-role="button" id="Skip">Save</a></p>
		<p><a href="#home" id="saveprofile" data-role="button" id="Save">Skip</a></p>
	</div>
	<footer data-role="footer" data-position="fixed"><h4><a href="#home">1099 Contractor App</a></h4></footer>
</section><!-- /page -->

<section data-role="page" data-theme="a" id="home" data-transition="flip" data-add-back-btn="true" data-back-btn-text="Back" data-dom-cache="true">
	<header data-role="header">
		<h1>Home</h1>
	</header>

    <div data-role="content">
		<div style="text-align: center;">
			<!-- image will be rendered here-->
			<p><a href="#money" data-role="button" id="incone">I got paid.</a></p>
			<p><a href="#money" data-role="button" id="expense">I paid expenses.</a></p>
		</div>
	</div>

	<footer data-role="footer" data-position="fixed"><h4><a href="#home">1099 Contractor App</a></h4></footer>
</section><!-- /page -->

<section data-role="page" data-theme="a" id="money" data-transition="flip" data-add-back-btn="true" data-back-btn-text="Back" data-dom-cache="true">
	<header data-role="header">
		<h1>Enter amounts.</h1>
	</header>

	<div data-role="content">	
		<form id="form" action="#" method="post">
			<div data-role="fieldcontain">
				<fieldset data-role="controlgroup">
					<label for="howmuch">How much?</label>
					<input type="text" name="check" id="income" placeholder="1000.00"/>	
					<a href="#notyet" data-role="button">Upload photo</a>
				</fieldset>
			</div>
		</form>
	</div>
	<a href="#home" data-role="button" data-inline="true">Cancel</a>
	<a href="#summary" id="savemoney" data-role="button" data-inline="true">Save</a>

	<footer data-role="footer" data-position="fixed"><h4><a href="#home">1099 Contractor App</a></h4></footer>
</section><!-- /page -->

<section data-role="page" data-theme="a" id="summary" data-transition="flip" data-add-back-btn="true" data-back-btn-text="Back" data-dom-cache="true">
	<header data-role="header">
		<h1>Tax Summary</h1>
	</header>

	<div data-role="content">
		<ul data-role="listview">
			<li><a href="index.html">Income <span class="ui-li-count">1000.00</span></a></li>
			<li><a href="index.html">Expense <span class="ui-li-count">200.00</span></a></li>
			<li><a href="index.html">Tax <span class="ui-li-count">300.00</span></a></li>
		</ul>
	</div><!--/content-primary -->

	<footer data-role="footer" data-position="fixed"><h4><a href="#home">Home</a></h4></footer>
</section><!-- /page -->


<section data-role="page" data-theme="a" id="notyet" data-transition="flip" data-add-back-btn="true" data-back-btn-text="Back" data-dom-cache="true">
	<header data-role="header">
		<h1>Not working yet!</h1>
	</header>

	<div data-role="content">	
		<p>Coming Soon!</p>
	</div>

	<footer data-role="footer" data-position="fixed"><h4><a href="#home">1099 Contractor App</a></h4></footer>
</section><!-- /page -->
</body>

</html>